<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	
	<Button name="CEPGPHeaderButton" virtual="true">
		<ButtonText style="$parentText"/>
		<NormalFont style="GameFontNormal"/>
		<HighlightFont style="GameFontHighlight"/>
		<DisabledFont style="GameFontDisable"/>
	</Button>
	
	<CheckButton name="UIOptionsCheckButtonTemplate" virtual="true" inherits="OptionsCheckButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25" />
		</Size>
	</CheckButton>
	
	<Frame name="CEPGPFrameTemplate" virtual="true" enableMouse="true" toplevel="true" hidden="true">
		<Size>
			<AbsDimension x="600" y="450" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset>
					<AbsDimension x="0" y="-30" />
				</Offset>
			</Anchor>
		</Anchors>
		<Scripts>
		<OnMouseDown>
			CEPGP_frame:StartMoving()
		</OnMouseDown>
		<OnMouseUp>
			CEPGP_frame:StopMovingOrSizing()
		</OnMouseUp>
	</Scripts>
	</Frame>
	
	<Button name="LootDistButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="600" y="15"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="$parentIcon">
					<Size>
						<AbsDimension x="15" y="15" />
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="450" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<Texture name="$parentIcon2">
					<Size>
						<AbsDimension x="15" y="15" />
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentIcon" relativePoint="RIGHT" />
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentTex">
				<Size>
					<AbsDimension x="15" y="15" />
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativeTo="$parentIcon" relativePoint="CENTER" />
				</Anchors>
			</Button>
			<Button name="$parentTex2">
				<Size>
					<AbsDimension x="15" y="15" />
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativeTo="$parentIcon2" relativePoint="CENTER" />
				</Anchors>
			</Button>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parentInfo" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentClass" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="80" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRank" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="232.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="312.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentPR" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="397.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
				if CEPGP_isML() == 0 or CEPGP_debugMode then
					CEPGP_ListButton_OnClick(self:GetName());
				end
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="GuildButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="570" y="15"/>
		</Size>
		<Frames>
		</Frames>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentInfo" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentClass" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="90" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRank" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="185" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="305" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="370" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentPR" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="445" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentBP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="510" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
				CEPGP_ListButton_OnClick(self:GetName());
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="RaidButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="570" y="15"/>
		</Size>
		<Frames>
		</Frames>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentInfo" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRank" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentInfo" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="97" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentRank" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="145" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentEP" relativePoint="CENTER">
							<Offset>
								<AbsDimension x="75" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentPR" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentGP" relativePoint="CENTER">
							<Offset>
								<AbsDimension x="55" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentBP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentPR" relativePoint="CENTER">
							<Offset>
								<AbsDimension x="55" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRaidRole" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentBP" relativePoint="CENTER">
							<Offset>
								<AbsDimension x="55" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
				CEPGP_ListButton_OnClick(self:GetName());
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="versionButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="420" y="15"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER" relativePoint="TOP" />
		</Anchors>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentname" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="45" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentversion" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="-105" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="lootOverrideButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="420" y="15"/>
		</Size>
		<Frames>
			<Button name="$parentDelete" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="380" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_ListButton_OnClick(self:GetName());
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentitem" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentitem" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="350" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
			</OnClick>
			<OnEnter>
				if GetItemInfo(_G[self:GetName() .. "item"]:GetText()) then
					CEPGP_setOverrideLink(_G[self:GetName() .. "item"], "enter");
				end
			</OnEnter>
			<OnLeave>
				if GetItemInfo(_G[self:GetName() .. "item"]:GetText()) then
					CEPGP_setOverrideLink(_G[self:GetName() .. "item"], "leave");
				end
			</OnLeave>
			<OnShow>
				local item = _G[self:GetName() .. "item"]:GetText();
				if item then
					if GetItemInfo(item) then
						local _, link = GetItemInfo(item);
						if link and not OVERRIDE_INDEX[link] then
							local gp = OVERRIDE_INDEX[item];
							OVERRIDE_INDEX[item] = nil;
							OVERRIDE_INDEX[link] = gp;
							CEPGP_UpdateOverrideScrollBar();
						end
					end
				end
			</OnShow>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="trafficButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="760" y="15"/>
		</Size>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentName" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentIssuer" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="100" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentAction" inherits="GameFontHighlightSmall" justifyH="RIGHT">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parentName" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="465" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEPBefore" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentAction" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="35" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEPAfter" inherits="GameFontHighlightSmall" justifyH="RIGHT">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parentEPBefore" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="70" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGPBefore" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentEPAfter" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="40" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGPAfter" inherits="GameFontHighlightSmall" justifyH="RIGHT">
					<Anchors>
						<Anchor point="RIGHT" relativeTo="$parentGPBefore" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="70" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentItem">
				<Size>
					<AbsDimension x="250" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentIssuer">
						<Offset>
							<AbsDimension x="25" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parentName" inherits="GameFontNormalSmall" justifyH="LEFT"/>
					</Layer>
				</Layers>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="StandbyButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="420" y="15"/>
		</Size>
		<Frames>
			<Button name="$parentClose" inherits="UiPanelCloseButton">
				<Size>
					<AbsDimension x="20" y="20" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="-10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_ListButton_OnClick(self:GetName());
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentInfo" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentClass" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="85" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRank" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="160" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentEP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="260" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentGP" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="320" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentPR" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="380" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	<Button name="AttendanceButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="580" y="15"/>
		</Size>
		<Frames>
		</Frames>
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentInfo" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentRank" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="100" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentTotal" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="252.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentInt7" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="327.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentInt14" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="387.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentInt30" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="447.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentInt60" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="510" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentInt90" inherits="GameFontHighlight" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parent" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="567.5" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonDown");
			</OnLoad>
			<OnClick>
				PlaySound(856);
				CEPGP_ListButton_OnClick(self:GetName());
			</OnClick>
		</Scripts>
		<HighlightTexture file="Interface\QuestFrame\UI-QuestTitleHighlight" alphaMode="ADD"/>
	</Button>
	
	<EditBox name="epValInputBoxTemplate" inherits="InputBoxTemplate" numeric="true" virtual="true">
		<Size>
			<AbsDimension x="50" y="10" />
		</Size>
		<Scripts>
			<OnLoad>
				self:SetAutoFocus(false);
			</OnLoad>
			<OnEnterPressed>
				self:ClearFocus();
			</OnEnterPressed>
			<OnEditFocusLost>
				local L = CEPGP_Locale:GetLocale("CEPGP")

				local name = strsub(self:GetName(), 15, strfind(self:GetName(), "_EP")-1);
				local value = self:GetText();
				if value == "" or not CEPGP_isNumber(value) then
					self:SetText(tostring(EPVALS[L[name]]));
				elseif value == EPVALS[L[name]] then
					return;
				elseif EPVALS[L[name]] ~= tonumber(value) then
					if name == "The Edge of Madness" then
						EPVALS[L["Gri'lek"]] = value;
						EPVALS[L["Hazza'rah"]] = value;
						EPVALS[L["Renataki"]] = value;
						EPVALS[L["Wushoolay"]] = value;
					elseif name == "The Bug Trio" then
						EPVALS[L["Princess Yauj"]] = value;
						EPVALS[L["Vem"]] = value;
						EPVALS[L["Lord Kri"]] = value;
					elseif name == "The Twin Emperors" then
						EPVALS[L["Emperor Vek'lor"]] = value;
						EPVALS[L["Emperor Vek'nilash"]] = value;
					elseif name == "The Four Horsemen" then
						EPVALS[L["Highlord Mograine"]] = value;
						EPVALS[L["Thane Korth'azz"]] = value;
						EPVALS[L["Lady Blaumeux"]] = value;
						EPVALS[L["Sir Zeliek"]] = value;
					else
						EPVALS[L[name]] = value;
					end
					CEPGP_print("Updated EP awarded for " .. L[name]);
				end
			</OnEditFocusLost>
			<OnShow>
				local L = CEPGP_Locale:GetLocale("CEPGP")

				local name = strsub(self:GetName(), 15, strfind(self:GetName(), "_EP")-1);
				local target = _G["CEPGP_options_" .. name .. "_val"];
				if name == "The Edge of Madness" then
					name = "Gri'lek"; --All bosses in the edge of madness will have the same value
				elseif name == "The Bug Trio" then
					name = "Princess Yauj";
				elseif name == "The Twin Emperors" then
					name = "Emperor Vek'lor";
				elseif name == "The Four Horsemen" then
					name = "Highlord Mograine";
				end				
				self:SetText(tostring(EPVALS[L[name]]));
				self:SetPoint('LEFT', target, 'LEFT', 275, 0); --FontStrings justify to the left, so for the sake of structuring, it's better to set the relative anchor to left
			</OnShow>
		</Scripts>
	</EditBox>
	
	<EditBox name="slotWeightInputBoxTemplate" inherits="InputBoxTemplate" minvalue="0.0" virtual="true">
		<Size>
			<AbsDimension x="40" y="5" />
		</Size>
		<Scripts>
			<OnLoad>
				self:SetAutoFocus(false);
			</OnLoad>
			<OnEnterPressed>
				self:ClearFocus();
			</OnEnterPressed>
			<OnEditFocusLost>
				local slot = string.sub(self:GetName(), 15, string.find(self:GetName(), "_weight")-1);
				local value = self:GetText();
				if CEPGP_isNumber(self:GetText()) and SLOTWEIGHTS[slot] ~= tonumber(value) then
					SLOTWEIGHTS[slot] = tonumber(value);
					CEPGP_print("Modifier for " .. string.lower(slot) .. " slot updated");
				else
					self:SetText(SLOTWEIGHTS[slot]);
				end
			</OnEditFocusLost>
			<OnShow>				
				local slot = strsub(self:GetName(), 15, strfind(self:GetName(), "_weight")-1);
				self:SetPoint('LEFT', _G["CEPGP_options_slot_" .. slot], 'RIGHT', 10, 0);
			</OnShow>
		</Scripts>
	</EditBox>
	
	<CheckButton name="AutoAwardEPCheckBox" inherits="UIOptionsCheckButtonTemplate" virtual="true">
		<HitRectInsets>
			<AbsInset left="0" right="0" top="0" bottom="0" />
		</HitRectInsets>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks('LeftButtonDown');
			</OnLoad>
			<OnClick>
				local L = CEPGP_Locale:GetLocale("CEPGP")

				local name = strsub(self:GetName(), 15, strfind(self:GetName(), "_auto_check")-1);
				if name == "The Edge of Madness" then
					if self:GetChecked() then
						AUTOEP[L["Gri'lek"]] = true;
						AUTOEP[L["Hazza'rah"]] = true;
						AUTOEP[L["Renataki"]] = true;
						AUTOEP[L["Wushoolay"]] = true;
					else
						AUTOEP[L["Gri'lek"]] = false;
						AUTOEP[L["Hazza'rah"]] = false;
						AUTOEP[L["Renataki"]] = false;
						AUTOEP[L["Wushoolay"]] = false;
					end
				elseif name == "The Bug Trio" then
					if self:GetChecked() then
						AUTOEP[L["Princess Yauj"]] = true;
						AUTOEP[L["Vem"]] = true;
						AUTOEP[L["Lord Kri"]] = true;
					else
						AUTOEP[L["Princess Yauj"]] = false;
						AUTOEP[L["Vem"]] = false;
						AUTOEP[L["Lord Kri"]] = false;
					end
				elseif name == "The Twin Emperors" then
					if self:GetChecked() then
						AUTOEP[L["Emperor Vek'lor"]] = true;
						AUTOEP[L["Emperor Vek'nilash"]] = true;
					else
						AUTOEP[L["Emperor Vek'lor"]] = false;
						AUTOEP[L["Emperor Vek'nilash"]] = false;
					end
				elseif name == "The Four Horsemen" then
					if self:GetChecked() then
						AUTOEP[L["Highlord Mograine"]] = true;
						AUTOEP[L["Thane Korth'azz"]] = true;
						AUTOEP[L["Lady Blaumeux"]] = true;
						AUTOEP[L["Sir Zeliek"]] = true;
					else
						AUTOEP[L["Highlord Mograine"]] = false;
						AUTOEP[L["Thane Korth'azz"]] = false;
						AUTOEP[L["Lady Blaumeux"]] = false;
						AUTOEP[L["Sir Zeliek"]] = false;
					end
				else
					local name = strsub(self:GetName(), 15, strfind(self:GetName(), "_auto_check")-1);
					if self:GetChecked() then
						AUTOEP[L[name]] = true;
					else
						AUTOEP[L[name]] = false;
					end
				end
				CEPGP_print("Updated auto award for " .. L[name]);
			</OnClick>
			<OnShow>
				local L = CEPGP_Locale:GetLocale("CEPGP")

				local name = strsub(self:GetName(), 15, strfind(self:GetName(), "_auto_check")-1);
				local target = _G["CEPGP_options_" .. name .. "_EP_value"];
				if name == "The Edge of Madness" then
					name = "Gri'lek"; --All bosses in the edge of madness will have the same value
				elseif name == "The Bug Trio" then
					name = "Princess Yauj";
				elseif name == "The Twin Emperors" then
					name = "Emperor Vek'lor";
				elseif name == "The Four Horsemen" then
					name = "Highlord Mograine";
				end				
				self:SetChecked(AUTOEP[L[name]]);
				self:SetPoint('LEFT', target, 'RIGHT', 25, 0);
			</OnShow>
		</Scripts>
	</CheckButton>

	<FontString name="SlotWeightFontTemplate" inherits="GameFontNormal" virtual="true">
		<Color r="1" g="1" b="1"/>
	</FontString>

	<CheckButton name="StandbyEPRankCheckBox" inherits="UIOptionsCheckButtonTemplate" virtual="true">
		<HitRectInsets>
			<AbsInset left="0" right="0" top="0" bottom="0" />
		</HitRectInsets>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks('LeftButtonDown');
			</OnLoad>
			<OnClick>
				local id = self:GetID();
				if self:GetChecked() then 
					STANDBYRANKS[id][2] = true;
				else
					STANDBYRANKS[id][2] = false;
				end
			</OnClick>
			<OnShow>
				local target = _G["CEPGP_options_standby_ep_rank_" .. self:GetID()];
				self:SetPoint("LEFT", target, "LEFT", 120, 0);
			</OnShow>
		</Scripts>
	</CheckButton>
	
</Ui>